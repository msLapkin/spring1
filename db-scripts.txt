CREATE USER 'geek'@'localhost' IDENTIFIED BY 'geek';
GRANT ALL PRIVILEGES ON * . * TO 'geek'@'localhost';
===
DROP TABLE IF EXISTS students;

CREATE TABLE students (
	id INT(11) NOT NULL AUTO_INCREMENT,
    surname VARCHAR(100) DEFAULT NULL,
    PRIMARY KEY(id)
) ENGINE=InnoDB;
===
DROP TABLE IF EXISTS courses;

CREATE TABLE courses (
	id INT(11) NOT NULL AUTO_INCREMENT,
    name VARCHAR(100) DEFAULT NULL,
    PRIMARY KEY(id)
) ENGINE=InnoDB;
===
DROP TABLE IF EXISTS visitors;

CREATE TABLE visitors (
    id INT(11) NOT NULL AUTO_INCREMENT,
	std_id int(11) NOT NULL,
    crs_id int(11) NOT NULL,

    PRIMARY KEY(std_id, crs_id),

	CONSTRAINT FK_STUDENT FOREIGN KEY (std_id)
    REFERENCES students (id)
    ON DELETE NO ACTION ON UPDATE NO ACTION,

    CONSTRAINT FK_COURSE FOREIGN KEY (crs_id)
    REFERENCES courses (id)
    ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB;
===
DROP TABLE IF EXISTS books;

CREATE TABLE books (
	id INT(11) NOT NULL AUTO_INCREMENT,
    title VARCHAR(100) DEFAULT NULL,
    author_id int(11) DEFAULT NULL,
    PRIMARY KEY(id),
    CONSTRAINT FK_AUTH_ID FOREIGN KEY (author_id)
    REFERENCES authors (id)
) ENGINE=InnoDB;
===
CREATE TABLE  books_readers (
	book_id int(11) NOT NULL,
    reader_id int(11) NOT NULL,

    PRIMARY KEY(book_id, reader_id),

	CONSTRAINT FK_BOOK FOREIGN KEY (book_id)
    REFERENCES books (id)
    ON DELETE NO ACTION ON UPDATE NO ACTION,

    CONSTRAINT FK_READERS FOREIGN KEY (reader_id)
    REFERENCES readers (id)
    ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB;

https://docs.oracle.com/javaee/6/api/javax/persistence/OneToMany.html#fetch%28%29
===
INSERT INTO `geek_courses`.`courses` (`id`, `name`) VALUES ('1', 'java');
INSERT INTO `geek_courses`.`courses` (`id`, `name`) VALUES ('2', 'c');
INSERT INTO `geek_courses`.`courses` (`id`, `name`) VALUES ('3', 'c++');
===
INSERT INTO `geek_courses`.`visitors` (`id`, `std_id`, `crs_id`) VALUES ('1', '1', '1');
INSERT INTO `geek_courses`.`visitors` (`id`, `std_id`, `crs_id`) VALUES ('2', '1', '3');
INSERT INTO `geek_courses`.`visitors` (`id`, `std_id`, `crs_id`) VALUES ('3', '2', '1');
INSERT INTO `geek_courses`.`visitors` (`id`, `std_id`, `crs_id`) VALUES ('4', '2', '2');
INSERT INTO `geek_courses`.`visitors` (`id`, `std_id`, `crs_id`) VALUES ('5', '3', '1');
INSERT INTO `geek_courses`.`visitors` (`id`, `std_id`, `crs_id`) VALUES ('6', '3', '2');
INSERT INTO `geek_courses`.`visitors` (`id`, `std_id`, `crs_id`) VALUES ('7', '3', '3');